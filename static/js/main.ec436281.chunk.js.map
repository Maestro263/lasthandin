{"version":3,"sources":["Firebase/config.js","composables/useFetch.jsx","components/Navbar.jsx","components/Create.jsx","composables/useDocument.jsx","components/ViewBooks.jsx","components/BookTitle.jsx","components/App.jsx","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","projectFirestore","firestore","useFetch","storage","FieldValue","serverTimestamp","collection","useState","data","setData","isPending","setIsPending","error","setError","useEffect","onSnapshot","snap","results","docs","forEach","doc","push","id","err","console","log","message","useStyles","makeStyles","root","flexGrow","CenteredTabs","classes","React","value","setValue","Paper","className","Tabs","onChange","event","newValue","indicatorColor","textColor","centered","Tab","label","component","Link","to","Create","e","name","setName","type","target","placeholder","onClick","nameRef","createName","complete","add","then","useDocument","loading","setLoading","create","deleteDoc","docRef","delete","update","newValues","a","title","genre","ViewBooks","props","setTitle","setGenre","handleChange","BookTitle","prevTitle","rows","titleRef","createTitle","App","Typography","variant","color","exact","path","map","index","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ec436281.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyC5vXHNZPzvDos8rnfQeSAWyEsJqQZaaIk\",\n  authDomain: \"last-hand-in.firebaseapp.com\",\n  projectId: \"last-hand-in\",\n  storageBucket: \"last-hand-in.appspot.com\",\n  messagingSenderId: \"11932855949\",\n  appId: \"1:11932855949:web:4da0330b47e5fb2dc67cc4\"\n};\n\n//init firebase\nfirebase.initializeApp(firebaseConfig);\n\nconst projectAuth = firebase.auth();\nconst projectFirestore = firebase.firestore();\nconst projectStorage = firebase.storage();\n\nconst timestamp = firebase.firestore.FieldValue.serverTimestamp;\n\nexport { projectAuth, projectFirestore, projectStorage, timestamp };\n","import { useState, useEffect } from \"react\";\nimport { projectFirestore } from \"../Firebase/config\";\n\nconst useFetch = (collection) => {\n  const [data, setData] = useState(null);\n  const [isPending, setIsPending] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    let collectionRef = projectFirestore.collection(collection);\n\n    collectionRef.onSnapshot(\n      (snap) => {\n        let results = [];\n        snap.docs.forEach((doc) => {\n          // must wait for the server to create the timestamp & send it back\n          results.push({ ...doc.data(), id: doc.id });\n        \n        });\n\n        // update values\n        setIsPending(false);\n        setData(results);\n        setError(null);\n      },\n      (err) => {\n        console.log(err.message);\n        setData(null);\n        setError(\"could not fetch the data\");\n      }\n    );\n  }, [collection]);\n\n  return { data, isPending, error };\n};\n\nexport default useFetch;\n","import React from \"react\";\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n  },\n});\n\nexport default function CenteredTabs() {\n  const classes = useStyles();\n  const [value, setValue] = React.useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Paper className={classes.root}>\n      <Tabs\n        value={value}\n        onChange={handleChange}\n        indicatorColor=\"primary\"\n        textColor=\"primary\"\n        centered\n      >\n        <Tab label=\"Home\" component={Link} to=\"/\"  />\n        <Tab label=\"Add Books\" component={Link} to=\"/create\"  />\n        <Tab label=\"View Books\" component={Link} to=\"/viewBooks\"  />\n      </Tabs>\n    </Paper>\n  );\n}\n","import React, { useState } from \"react\";\nimport { projectFirestore } from \"../Firebase/config\";\n\nconst Create = (e) => {\n  const [name, setName] = useState(\"\");\n\n  const handleChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const addName = () => {\n    const nameRef = projectFirestore.collection(\"collection\");\n    const createName = {\n      name,\n      complete: false\n    };\n\n    nameRef.add(createName).then(() => setName(\"\"));\n  };\n\n  return (\n    <div className=\"create\">\n      {name}\n      <br />\n      Add writer:\n      <br />\n      <input type=\"text\" value={name} onChange={handleChange} placeholder=\"writer\"/>\n      {\"\"}\n      <br />\n      <button className=\"createButton\" onClick={addName}>\n        Create\n      </button>\n    </div>\n  );\n};\n\nexport default Create;\n\n","import { useState } from \"react\";\nimport { projectFirestore } from \"../Firebase/config\";\n\nconst useDocument = (collection, id) => {\n  const [error, setError] = useState(null);\n\n  const [loading, setLoading] = useState(null);\n\n  const deleteDoc = () => {\n    let docRef = projectFirestore.collection(collection).doc(id);\n    try {\n      const res = docRef.delete();\n      return res;\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const update = async (id, newValues) => {\n    console.log(id, newValues);\n    setLoading(true);\n    try {\n      projectFirestore\n        .collection(collection)\n        .doc(id)\n        .update({ name: newValues })\n        .update({ title: newValues })\n        .update({ genre: newValues });\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const create = () => {\n    console.log(\"Hello\");\n  };\n\n  return { error, create, deleteDoc, update, loading };\n};\n\nexport default useDocument;\n","import React from \"react\";\nimport { useState } from \"react\";\nimport useDocument from \"../composables/useDocument\";\n\nconst ViewBooks = (props) => {\n  const [name, setName] = useState(props.data.name);\n\n  const [title, setTitle] = useState(props.data.title);\n\n  const [genre, setGenre] = useState(props.data.genre);\n  \n  const { deleteDoc, update } = useDocument(\"collection\", props.data.id);\n\n  const handleChange = (e) => {\n    setName(e.target.value);\n    setTitle(e.target.value);\n    setGenre(e.target.value);\n  };\n\n\n\n  return (\n    <div>\n      <input value={name} onChange={handleChange} />\n      <input value={title} onChange={handleChange} />\n      <input value={genre} onChange={handleChange} />\n      <br />\n      <button\n        onClick={() => {\n          deleteDoc();\n        }}\n      >\n        delete\n      </button>\n      <button\n        onClick={() => {\n          update(props.data.id, name);\n        }}\n      >\n        edit\n      </button>\n    </div>\n  );\n};\n\nexport default ViewBooks;\n","import React, { useState } from \"react\";\nimport { projectFirestore } from \"../Firebase/config\";\n\n\nfunction BookTitle(props) {\n  const [title, setTitle] = useState({\n    title: \"\",\n    genre: \"\"\n  });\n\n  function handleChange(event) {\n    const { name, value } = event.target;\n\n    setTitle(prevTitle => {\n      return {\n        ...prevTitle,\n        [name]: value\n      };\n    })\n  }\n \n  \n  const submitTitle = () => {\n    const titleRef = projectFirestore.collection(\"collection\");\n    const createTitle = {\n      title,\n      complete: false\n    };\n\n    titleRef.add(createTitle).then(() => setTitle(\"\"));\n  };\n\n\n  return (\n    <div>\n      <form>\n        <input\n          name=\"title\"\n          onChange={handleChange}\n          value={title.title}\n          placeholder=\"Title\"\n        />\n        <input\n          name=\"genre\"\n          onChange={handleChange}\n          value={title.genre}\n          placeholder=\"genre\"\n          rows=\"3\"\n        />\n        <br />\n        <button onClick={submitTitle}>Add</button>\n      </form>\n    </div>\n  );\n}\n\nexport default BookTitle;\n","import React from \"react\";\nimport useFetch from \"../composables/useFetch\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport CenteredTabs from \"../components/Navbar\";\nimport Typography from '@material-ui/core/Typography';\nimport Create from \"./Create\";\nimport ViewBooks from \"../components/ViewBooks\";\nimport BookTitle from \"./BookTitle\";\n\nconst App = () => {\n  const { error, isPending, data } = useFetch(\"collection\");\n\n  return (\n    \n    <Router>\n    <div className=\"home\">\n    <Typography variant=\"h4\" component=\"h2\" color=\"secondary\">\n      Welcome to the Library\n      </Typography>\n    <CenteredTabs />\n      <Switch>\n        <Route exact path=\"/\">\n          <h1>\n            Welcome Here\n            </h1>\n        </Route>\n        <Route path=\"/create\">\n          <Create />\n          <BookTitle />\n        </Route>\n        <Route path=\"/viewBooks\">\n        {error && <div>{error}</div>}\n      {isPending && <div>Loading...</div>}\n      {data && data.map((data, index) => <ViewBooks key={index} data={data}/>)}\n        </Route>\n      </Switch>\n    </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App/>, document.getElementById(\"root\"));\n\n/*\n1. Take a look at your last Firebase/Vue hand-inn and how you have used \ncomposables\n2. Import Firebase to REACT and create a Firebase folder, just like you did \nin Vue.js\n3. Rewrite your firebase CRUD composables into a Custom Hook, where you Fetch \ndata from Firebase instead of Json Placeholder API. \n4. Rewrite your code from your CRUD composables. Create a Delete function for \neach element you fetch. \n*/\n\n"],"sourceRoot":""}